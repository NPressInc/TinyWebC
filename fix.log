=================================================================
üöÄ Welcome to TinyWeb - Decentralized PBFT Blockchain Node!
=================================================================
Node Configuration:
  Node ID: 0
  API Port: 8000
  Protocol: HTTP + PBFT Consensus
  Features: Blockchain, Invitations, Encrypted Transactions
-----------------------------------------------------------------
Initializing TinyWeb system components...
Message queues initialized
System components initialized successfully
Creating PBFT node...
Mongoose HTTP client initialized
Invitation system initialized
Initializing node keys...
Initializing keys for node 0
Loaded existing keys for node 0
Loading blockchain...
Loading/creating blockchain for node 0
Loading existing blockchain from state/blockchain/blockchain.dat
Loaded blockchain (Original size: 8692 bytes, Compressed size: 6714 bytes)
Loaded existing blockchain for node 0 with length 9
üîß Blockchain Data Manager initialized
   Critical data: 0 days (0=forever)
   Important data: 120 days
   Operational data: 30 days
üîÑ Database inconsistent with blockchain, reloading...
üîÑ Starting blockchain data reload...
üìä Blockchain length: 9 blocks
üóÑÔ∏è  Database size before: 151552 bytes (0.14 MB)
‚ö†Ô∏è Warning: Failed to sync block 0 to database
‚ö†Ô∏è Warning: Failed to sync block 1 to database
‚ö†Ô∏è Warning: Failed to sync block 2 to database
‚ö†Ô∏è Warning: Failed to sync block 3 to database
‚ö†Ô∏è Warning: Failed to sync block 4 to database
‚ö†Ô∏è Warning: Failed to sync block 5 to database
‚ö†Ô∏è Warning: Failed to sync block 6 to database
‚ö†Ô∏è Warning: Failed to sync block 7 to database
‚ö†Ô∏è Warning: Failed to sync block 8 to database

üìà Blockchain Reload Complete!
‚è±Ô∏è  Processing time: 0.00 seconds
üóÉÔ∏è  Blocks processed: 9
üìù Transactions loaded: 0
   ‚îî‚îÄ Critical: 0
   ‚îî‚îÄ Important: 0
   ‚îî‚îÄ Operational: 0
üö´ Transactions skipped: 0
üíæ Database size: 151552 ‚Üí 151552 bytes (0.14 MB)
‚úÖ Database successfully reloaded from blockchain
üìä Reload Statistics:
   Critical transactions: 0
   Important transactions: 0
   Operational transactions: 0
   Transactions skipped: 0
Initializing database...
WAL mode and optimizations configured successfully
Database initialized successfully: state/blockchain/blockchain.db
Database initialized successfully
Registering node node_000 in database...
Node node_000 registered successfully
‚úì Node registered successfully
Syncing blockchain to database...
Syncing blockchain to database (9 blocks)...
Failed to sync block 0
Warning: Failed to sync blockchain to database
‚úÖ TinyWeb PBFT node initialized successfully
-----------------------------------------------------------------
üåê HTTP API Server: http://localhost:8000
üìä Available Endpoints:
  ‚Ä¢ GET  /                          - Node status
  ‚Ä¢ GET  /GetBlockChainLength       - Blockchain info
  ‚Ä¢ POST /Transaction               - Submit transaction
  ‚Ä¢ POST /invitation/create         - Create invitation
  ‚Ä¢ POST /invitation/accept/<code>  - Accept invitation
  ‚Ä¢ GET  /invitation/pending        - List pending invitations
üîß Press Ctrl+C to shutdown gracefully
=================================================================
PBFT node 0 starting on port 8000
TinyWeb monitor thread started
Starting PBFT API server on port 8000
PBFT node threads started successfully
PBFT main consensus loop started for node 0
PBFT API server listening on http://0.0.0.0:8000
[DEBUG] Processing admin user: user_0, pubkey: f9e4f98a8693d965cff1e0c3701c2c3db99b08037eb2f16c18d98f308e78992a
[DEBUG] Hex decode result: 32
[DEBUG] Ed25519 to X25519 conversion result: 0
[DEBUG] X25519 hex encode result: 0
[DEBUG] Failed to encode X25519 key to hex for user: user_0
[DEBUG] Processing admin user: user_1, pubkey: 62f4423ea13a16923c7fb715fbec68bc622b7f15b554db85130c044bd504c02e
[DEBUG] Hex decode result: 32
[DEBUG] Ed25519 to X25519 conversion result: 0
[DEBUG] X25519 hex encode result: 0
[DEBUG] Failed to encode X25519 key to hex for user: user_1
[DEBUG] Total admin users processed: 0
Node 0: Blockchain length: 9, Peers: 0, Proposer ID: 0
Node 0: Creating block for singular node
Node 0: Creating block for singular node mode
DEBUG: Creating block 9 with previous hash: 145b73becaf9a77a116a3e378c82c692c8e3be14ce66fcafcd650a4a764004da
Created new block with index 9 and 0 transactions
DEBUG: Block 9 validation - Expected prev hash: 145b73becaf9a77a116a3e378c82c692c8e3be14ce66fcafcd650a4a764004da, Actual prev hash: 145b73becaf9a77a116a3e378c82c692c8e3be14ce66fcafcd650a4a764004da
Block validation passed for block 9
DEBUG: Block 9 validation - Expected prev hash: 145b73becaf9a77a116a3e378c82c692c8e3be14ce66fcafcd650a4a764004da, Actual prev hash: 145b73becaf9a77a116a3e378c82c692c8e3be14ce66fcafcd650a4a764004da
Block validation passed for block 9
DEBUG: TW_BlockChain_add_block - Expected prev hash: 145b73becaf9a77a116a3e378c82c692c8e3be14ce66fcafcd650a4a764004da, Block prev hash: 145b73becaf9a77a116a3e378c82c692c8e3be14ce66fcafcd650a4a764004da
DEBUG: TW_BlockChain_add_block - Successfully added block 9, new length: 10
Successfully committed block 9 to blockchain
Saving blockchain after block commit...
Node 0: Saving blockchain (length: 10)
Saved BlockChain To File! (Original size: 8796 bytes, Compressed size: 6774 bytes)
Blockchain saved as JSON to state/blockchain/blockchain.json
Node 0: Successfully saved blockchain to file
Block 9 synced to database successfully
Node 0: Successfully created and committed block 9 in singular mode
Node 0: Proposing block (round 10)
DEBUG: Creating block 10 with previous hash: 2ce325178b9532b18e0088661639f7da8ccbeaaf270c153e07824f99e13264fc
Created new block with index 10 and 0 transactions
Node 0: Committing block directly (singular mode)
DEBUG: Block 10 validation - Expected prev hash: 2ce325178b9532b18e0088661639f7da8ccbeaaf270c153e07824f99e13264fc, Actual prev hash: 2ce325178b9532b18e0088661639f7da8ccbeaaf270c153e07824f99e13264fc
Block validation passed for block 10
DEBUG: Block 10 validation - Expected prev hash: 2ce325178b9532b18e0088661639f7da8ccbeaaf270c153e07824f99e13264fc, Actual prev hash: 2ce325178b9532b18e0088661639f7da8ccbeaaf270c153e07824f99e13264fc
Block validation passed for block 10
DEBUG: TW_BlockChain_add_block - Expected prev hash: 2ce325178b9532b18e0088661639f7da8ccbeaaf270c153e07824f99e13264fc, Block prev hash: 2ce325178b9532b18e0088661639f7da8ccbeaaf270c153e07824f99e13264fc
DEBUG: TW_BlockChain_add_block - Successfully added block 10, new length: 11
Successfully committed block 10 to blockchain
Saving blockchain after block commit...
Node 0: Saving blockchain (length: 11)
Saved BlockChain To File! (Original size: 8900 bytes, Compressed size: 6833 bytes)
Blockchain saved as JSON to state/blockchain/blockchain.json
Node 0: Successfully saved blockchain to file
Block 10 synced to database
Node 0: Blockchain length: 11, Peers: 0, Proposer ID: 0
Node 0: Creating block for singular node
Node 0: Creating block for singular node mode
DEBUG: Creating block 11 with previous hash: f4a7131755421b0e88b0efba4bd908e50e75060f434f49fc1eb412ee73f3dfc7
Created new block with index 11 and 0 transactions
DEBUG: Block 11 validation - Expected prev hash: f4a7131755421b0e88b0efba4bd908e50e75060f434f49fc1eb412ee73f3dfc7, Actual prev hash: f4a7131755421b0e88b0efba4bd908e50e75060f434f49fc1eb412ee73f3dfc7
Block validation passed for block 11
DEBUG: Block 11 validation - Expected prev hash: f4a7131755421b0e88b0efba4bd908e50e75060f434f49fc1eb412ee73f3dfc7, Actual prev hash: f4a7131755421b0e88b0efba4bd908e50e75060f434f49fc1eb412ee73f3dfc7
Block validation passed for block 11
DEBUG: TW_BlockChain_add_block - Expected prev hash: f4a7131755421b0e88b0efba4bd908e50e75060f434f49fc1eb412ee73f3dfc7, Block prev hash: f4a7131755421b0e88b0efba4bd908e50e75060f434f49fc1eb412ee73f3dfc7
DEBUG: TW_BlockChain_add_block - Successfully added block 11, new length: 12
Successfully committed block 11 to blockchain
Saving blockchain after block commit...
Node 0: Saving blockchain (length: 12)
Saved BlockChain To File! (Original size: 9004 bytes, Compressed size: 6892 bytes)
Blockchain saved as JSON to state/blockchain/blockchain.json
Node 0: Successfully saved blockchain to file
Block 11 synced to database successfully
Node 0: Successfully created and committed block 11 in singular mode
Node 0: Proposing block (round 20)
DEBUG: Creating block 12 with previous hash: 69b3f0fbae509a3fb61270c9898eb822b80dfe8e25ecfafcde26fa6f574338c5
Created new block with index 12 and 0 transactions
Node 0: Committing block directly (singular mode)
DEBUG: Block 12 validation - Expected prev hash: 69b3f0fbae509a3fb61270c9898eb822b80dfe8e25ecfafcde26fa6f574338c5, Actual prev hash: 69b3f0fbae509a3fb61270c9898eb822b80dfe8e25ecfafcde26fa6f574338c5
Block validation passed for block 12
DEBUG: Block 12 validation - Expected prev hash: 69b3f0fbae509a3fb61270c9898eb822b80dfe8e25ecfafcde26fa6f574338c5, Actual prev hash: 69b3f0fbae509a3fb61270c9898eb822b80dfe8e25ecfafcde26fa6f574338c5
Block validation passed for block 12
DEBUG: TW_BlockChain_add_block - Expected prev hash: 69b3f0fbae509a3fb61270c9898eb822b80dfe8e25ecfafcde26fa6f574338c5, Block prev hash: 69b3f0fbae509a3fb61270c9898eb822b80dfe8e25ecfafcde26fa6f574338c5
DEBUG: TW_BlockChain_add_block - Successfully added block 12, new length: 13
Successfully committed block 12 to blockchain
Saving blockchain after block commit...
Node 0: Saving blockchain (length: 13)
Saved BlockChain To File! (Original size: 9108 bytes, Compressed size: 6960 bytes)
Blockchain saved as JSON to state/blockchain/blockchain.json
Node 0: Successfully saved blockchain to file
Block 12 synced to database
Node 0: Checking blockchain sync and peer status
Node 0: Blockchain length: 13, Peers: 0, Proposer ID: 0
Node 0: Creating block for singular node
Node 0: Creating block for singular node mode
DEBUG: Creating block 13 with previous hash: f27325fb6aacc17e87bd4f5be07ff6bc358248b2d9fc2ae92892ef1be958bb9f
Created new block with index 13 and 0 transactions
DEBUG: Block 13 validation - Expected prev hash: f27325fb6aacc17e87bd4f5be07ff6bc358248b2d9fc2ae92892ef1be958bb9f, Actual prev hash: f27325fb6aacc17e87bd4f5be07ff6bc358248b2d9fc2ae92892ef1be958bb9f
Block validation passed for block 13
DEBUG: Block 13 validation - Expected prev hash: f27325fb6aacc17e87bd4f5be07ff6bc358248b2d9fc2ae92892ef1be958bb9f, Actual prev hash: f27325fb6aacc17e87bd4f5be07ff6bc358248b2d9fc2ae92892ef1be958bb9f
Block validation passed for block 13
DEBUG: TW_BlockChain_add_block - Expected prev hash: f27325fb6aacc17e87bd4f5be07ff6bc358248b2d9fc2ae92892ef1be958bb9f, Block prev hash: f27325fb6aacc17e87bd4f5be07ff6bc358248b2d9fc2ae92892ef1be958bb9f
DEBUG: TW_BlockChain_add_block - Successfully added block 13, new length: 14
Successfully committed block 13 to blockchain
Saving blockchain after block commit...
Node 0: Saving blockchain (length: 14)
Saved BlockChain To File! (Original size: 9212 bytes, Compressed size: 7016 bytes)
Blockchain saved as JSON to state/blockchain/blockchain.json
Node 0: Successfully saved blockchain to file
Block 13 synced to database successfully
Node 0: Successfully created and committed block 13 in singular mode
Node 0: Proposing block (round 30)
DEBUG: Creating block 14 with previous hash: 222358defb2db06278817ebb799e8fed259ca207645e18348ea60e2dc2099b67
Created new block with index 14 and 0 transactions
Node 0: Committing block directly (singular mode)
DEBUG: Block 14 validation - Expected prev hash: 222358defb2db06278817ebb799e8fed259ca207645e18348ea60e2dc2099b67, Actual prev hash: 222358defb2db06278817ebb799e8fed259ca207645e18348ea60e2dc2099b67
Block validation passed for block 14
DEBUG: Block 14 validation - Expected prev hash: 222358defb2db06278817ebb799e8fed259ca207645e18348ea60e2dc2099b67, Actual prev hash: 222358defb2db06278817ebb799e8fed259ca207645e18348ea60e2dc2099b67
Block validation passed for block 14
DEBUG: TW_BlockChain_add_block - Expected prev hash: 222358defb2db06278817ebb799e8fed259ca207645e18348ea60e2dc2099b67, Block prev hash: 222358defb2db06278817ebb799e8fed259ca207645e18348ea60e2dc2099b67
DEBUG: TW_BlockChain_add_block - Successfully added block 14, new length: 15
Successfully committed block 14 to blockchain
Saving blockchain after block commit...
Node 0: Saving blockchain (length: 15)
Saved BlockChain To File! (Original size: 9316 bytes, Compressed size: 7075 bytes)
Blockchain saved as JSON to state/blockchain/blockchain.json
Node 0: Successfully saved blockchain to file
Block 14 synced to database

Received signal 15, shutting down gracefully...
PBFT API server shutting down
Marking node node_000 as offline...
TinyWeb monitor thread stopping
PBFT main consensus loop stopped for node 0
PBFT node 0 shutdown complete
Waiting for monitor thread to finish...
Cleaning up system components...
Message queues cleaned up
Database closed successfully
Database closed
üßπ Blockchain Data Manager cleanup complete
Mongoose HTTP client cleaned up
System cleanup completed

=================================================================
üõë TinyWeb PBFT Node shutdown complete - Goodbye!
=================================================================
