=================================================================
ğŸš€ Welcome to TinyWeb - Decentralized PBFT Blockchain Node!
=================================================================
Node Configuration:
  Node ID: 0
  API Port: 4002
  Protocol: HTTP + PBFT Consensus
  Features: Blockchain, Invitations, Encrypted Transactions
-----------------------------------------------------------------
Initializing TinyWeb system components...
Message queues initialized
System components initialized successfully
Creating PBFT node...
Mongoose HTTP client initialized
Invitation system initialized
Initializing node keys...
Initializing keys for node 0
Loaded existing keys for node 0
Loading blockchain...
Loading/creating blockchain for node 0
Loading existing blockchain from state/blockchain/blockchain.dat
Loaded blockchain (Original size: 6218 bytes, Compressed size: 4696 bytes)
Loaded existing blockchain for node 0 with length 2
ğŸ”§ Blockchain Data Manager initialized
   Critical data: 0 days (0=forever)
   Important data: 120 days
   Operational data: 30 days
ğŸ”„ Database inconsistent with blockchain, reloading...
ğŸ”„ Starting blockchain data reload...
ğŸ“Š Blockchain length: 2 blocks
ğŸ—„ï¸  Database size before: 192512 bytes (0.18 MB)
âš ï¸ Warning: Failed to sync block 0 to database
âš ï¸ Warning: Failed to sync block 1 to database

ğŸ“ˆ Blockchain Reload Complete!
â±ï¸  Processing time: 0.00 seconds
ğŸ—ƒï¸  Blocks processed: 2
ğŸ“ Transactions loaded: 0
   â””â”€ Critical: 0
   â””â”€ Important: 0
   â””â”€ Operational: 0
ğŸš« Transactions skipped: 0
ğŸ’¾ Database size: 192512 â†’ 192512 bytes (0.18 MB)
âœ… Database successfully reloaded from blockchain
ğŸ“Š Reload Statistics:
   Critical transactions: 0
   Important transactions: 0
   Operational transactions: 0
   Transactions skipped: 0
Initializing database...
WAL mode and optimizations configured successfully
Database initialized successfully: state/blockchain/blockchain.db
Database initialized successfully
Syncing blockchain to database...
Syncing blockchain to database (2 blocks)...
Failed to sync block 0
Warning: Failed to sync blockchain to database
âœ… TinyWeb PBFT node initialized successfully
-----------------------------------------------------------------
ğŸŒ HTTP API Server: http://localhost:4002
ğŸ“Š Available Endpoints:
  â€¢ GET  /                          - Node status
  â€¢ GET  /GetBlockChainLength       - Blockchain info
  â€¢ POST /Transaction               - Submit transaction
  â€¢ POST /invitation/create         - Create invitation
  â€¢ POST /invitation/accept/<code>  - Accept invitation
  â€¢ GET  /invitation/pending        - List pending invitations
ğŸ”§ Press Ctrl+C to shutdown gracefully
=================================================================
PBFT node 0 starting on port 4002
TinyWeb monitor thread started
Starting PBFT API server on port 4002
PBFT node threads started successfully
PBFT main consensus loop started for node 0
PBFT API server listening on http://0.0.0.0:4002
Node 0: Proposing block (round 3)
DEBUG: Creating block 2 with previous hash: d3f7a6ac3ca9afa2c87b903d8374b980e852ddd35c853691523b5009ba7a7aaa
Created new block with index 2 and 0 transactions
Node 0: Committing block directly (singular mode)
DEBUG: Block 2 validation - Expected prev hash: d3f7a6ac3ca9afa2c87b903d8374b980e852ddd35c853691523b5009ba7a7aaa, Actual prev hash: d3f7a6ac3ca9afa2c87b903d8374b980e852ddd35c853691523b5009ba7a7aaa
Block validation passed for block 2
DEBUG: Block 2 validation - Expected prev hash: d3f7a6ac3ca9afa2c87b903d8374b980e852ddd35c853691523b5009ba7a7aaa, Actual prev hash: d3f7a6ac3ca9afa2c87b903d8374b980e852ddd35c853691523b5009ba7a7aaa
Block validation passed for block 2
DEBUG: TW_BlockChain_add_block - Expected prev hash: d3f7a6ac3ca9afa2c87b903d8374b980e852ddd35c853691523b5009ba7a7aaa, Block prev hash: d3f7a6ac3ca9afa2c87b903d8374b980e852ddd35c853691523b5009ba7a7aaa
DEBUG: TW_BlockChain_add_block - Successfully added block 2, new length: 3
Successfully committed block 2 to blockchain
Block 2 synced to database
Node 0: Proposing block (round 6)
DEBUG: Creating block 3 with previous hash: 850f16154891685774c0acc11f8e4fe7bdb29926537f331e6480afa0ec3179a6
Created new block with index 3 and 0 transactions
Node 0: Committing block directly (singular mode)
DEBUG: Block 3 validation - Expected prev hash: 850f16154891685774c0acc11f8e4fe7bdb29926537f331e6480afa0ec3179a6, Actual prev hash: 850f16154891685774c0acc11f8e4fe7bdb29926537f331e6480afa0ec3179a6
Block validation passed for block 3
DEBUG: Block 3 validation - Expected prev hash: 850f16154891685774c0acc11f8e4fe7bdb29926537f331e6480afa0ec3179a6, Actual prev hash: 850f16154891685774c0acc11f8e4fe7bdb29926537f331e6480afa0ec3179a6
Block validation passed for block 3
DEBUG: TW_BlockChain_add_block - Expected prev hash: 850f16154891685774c0acc11f8e4fe7bdb29926537f331e6480afa0ec3179a6, Block prev hash: 850f16154891685774c0acc11f8e4fe7bdb29926537f331e6480afa0ec3179a6
DEBUG: TW_BlockChain_add_block - Successfully added block 3, new length: 4
Successfully committed block 3 to blockchain
Block 3 synced to database

Received signal 15, shutting down gracefully...
TinyWeb monitor thread stopping
PBFT main consensus loop stopped for node 0
PBFT API server shutting down
PBFT node 0 shutdown complete
Waiting for monitor thread to finish...
Cleaning up system components...
Message queues cleaned up
Database closed successfully
Database closed
ğŸ§¹ Blockchain Data Manager cleanup complete
Mongoose HTTP client cleaned up
System cleanup completed

=================================================================
ğŸ›‘ TinyWeb PBFT Node shutdown complete - Goodbye!
=================================================================
